"use strict";var TodoView=Backbone.View.extend({tagName:"#todo",events:{"keypress .search":"createOnEnter"},initialize:function(){this.$el=$("#todo"),this.fooList=$("#fooList"),this.input=this.$(".search"),this.foodLists=new ServiceList,this.listenTo(this.foodLists,"all",this.render)},render:function(){return this.fooList.html(""),this.foodLists&&this.foodLists.each(function(t){this.fooList.append('<li><input type="checkbox" value="1" name="'+t.get("title")+'" /> '+t.get("title")+"<span>$"+t.get("title")+"</span></li>")},this),this},edit:function(){},close:function(){},createOnEnter:function(t){var i=this;this.input.val();t.which===ENTER_KEY&&(i.foodLists.reset(),$.ajax({url:'https://api.nutritionix.com/v1_1/search/"+ food +"?fields=item_name%2Citem_id%2Cbrand_name%2Cnf_calories%2Cnf_total_fat&appId=fafaa50d&appKey=dd6e5d7563cfb23e902d053eca5c80a4'}).done(function(t){if(-1!==Object.prototype.toString.call(t).indexOf("Object")){if(t.hits){for(var e=[],s=0;s<t.hits.length;s++){var o=new Todo({title:t.hits[s].fields.item_name});e.push(o)}i.foodLists.push(e)}}else alert("响应的结果数据类型不是一个对象")}).fail(function(t){alert("响应失败")}))}});
//# sourceMappingURL=app-view.js.map
