"use strict";var CalCaloriesView=Backbone.View.extend({tagName:"#calculate",initialize:function(){this.selectedFood=$("#selectedFood"),this.calCalories=$("#calCalories"),this.listenTo(selectedFoods,"add",this.addOne),this.listenTo(selectedFoods,"reset",this.addAll),this.listenTo(selectedFoods,"all",this.render),selectedFoods.fetch({reset:!0})},render:function(){var e=0;return selectedFoods.models.forEach(function(t){0!=t.get("calories")&&(e+=t.get("calories"))}),"number"==typeof e?this.calCalories.text("Total Calories: "+e.toFixed(2)):alert("model的calories参数不是number类型"),this},addOne:function(e){var t=new SeletedFoodView({model:e});this.selectedFood.append(t.render().el)},addAll:function(){this.selectedFood.html(""),selectedFoods.each(this.addOne,this)},clear:function(){this.model.destroy()}});
//# sourceMappingURL=calories-view.js.map
